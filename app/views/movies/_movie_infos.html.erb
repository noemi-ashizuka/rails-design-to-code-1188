<div class="movie-card" data-controller="edit-movie" data-edit-movie-target="card">
  <%= image_tag movie.image_url %>

  <div class="movie-infos <%= 'd-none' if movie.errors.any? %>"  data-edit-movie-target="infos">
    <h2><%= movie.title %><small> (<%= movie.year %>)</small></h2>
    <p class="px-2">ðŸŽ¬ <%= movie.director.full_name %></p>
  </div>
  
  <button aria-label="Edit movie" data-action="click->edit-movie#displayForm">
    <i class="fa-solid fa-pen fa-xs ml-2"></i>
  </button>

  <%= simple_form_for movie, html: {class: movie.errors.any? ? "" : "d-none"}, data: { edit_movie_target:"form", action: "submit->edit-movie#update" } do |f| %>
    <%= f.input :title %>
    <%= f.input :year %>
    <%= f.submit "Update movie", class: "btn btn-sm btn-primary btn-block mt-2" %>
  <% end %>
</div>
